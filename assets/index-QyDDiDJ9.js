(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(c){if(c.ep)return;c.ep=!0;const l=e(c);fetch(c.href,l)}})();var Re,B,Jt,fe,Nt,$t,Bt,Wt,ft,lt,ct,Ce={},Zt=[],Sn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ke=Array.isArray;function ce(t,n){for(var e in n)t[e]=n[e];return t}function mt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function An(t,n,e){var s,c,l,f={};for(l in n)l=="key"?s=n[l]:l=="ref"?c=n[l]:f[l]=n[l];if(arguments.length>2&&(f.children=arguments.length>3?Re.call(arguments,2):e),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)f[l]===void 0&&(f[l]=t.defaultProps[l]);return Je(t,f,s,c,null)}function Je(t,n,e,s,c){var l={type:t,props:n,key:e,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:c??++Jt,__i:-1,__u:0};return c==null&&B.vnode!=null&&B.vnode(l),l}function Xe(t){return t.children}function $e(t,n){this.props=t,this.context=n}function ye(t,n){if(n==null)return t.__?ye(t.__,t.__i+1):null;for(var e;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null)return e.__e;return typeof t.type=="function"?ye(t):null}function Vt(t){var n,e;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null){t.__e=t.__c.base=e.__e;break}return Vt(t)}}function kt(t){(!t.__d&&(t.__d=!0)&&fe.push(t)&&!We.__r++||Nt!==B.debounceRendering)&&((Nt=B.debounceRendering)||$t)(We)}function We(){for(var t,n,e,s,c,l,f,m=1;fe.length;)fe.length>m&&fe.sort(Bt),t=fe.shift(),m=fe.length,t.__d&&(e=void 0,c=(s=(n=t).__v).__e,l=[],f=[],n.__P&&((e=ce({},s)).__v=s.__v+1,B.vnode&&B.vnode(e),ht(n.__P,e,s,n.__n,n.__P.namespaceURI,32&s.__u?[c]:null,l,c??ye(s),!!(32&s.__u),f),e.__v=s.__v,e.__.__k[e.__i]=e,Xt(l,e,f),e.__e!=c&&Vt(e)));We.__r=0}function Rt(t,n,e,s,c,l,f,m,h,b,p){var u,C,w,E,N,j,T=s&&s.__k||Zt,v=n.length;for(h=Tn(e,n,T,h,v),u=0;u<v;u++)(w=e.__k[u])!=null&&(C=w.__i===-1?Ce:T[w.__i]||Ce,w.__i=u,j=ht(t,w,C,c,l,f,m,h,b,p),E=w.__e,w.ref&&C.ref!=w.ref&&(C.ref&&pt(C.ref,null,w),p.push(w.ref,w.__c||E,w)),N==null&&E!=null&&(N=E),4&w.__u||C.__k===w.__k?h=Kt(w,h,t):typeof w.type=="function"&&j!==void 0?h=j:E&&(h=E.nextSibling),w.__u&=-7);return e.__e=N,h}function Tn(t,n,e,s,c){var l,f,m,h,b,p=e.length,u=p,C=0;for(t.__k=new Array(c),l=0;l<c;l++)(f=n[l])!=null&&typeof f!="boolean"&&typeof f!="function"?(h=l+C,(f=t.__k[l]=typeof f=="string"||typeof f=="number"||typeof f=="bigint"||f.constructor==String?Je(null,f,null,null,null):Ke(f)?Je(Xe,{children:f},null,null,null):f.constructor===void 0&&f.__b>0?Je(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f).__=t,f.__b=t.__b+1,m=null,(b=f.__i=On(f,e,h,u))!==-1&&(u--,(m=e[b])&&(m.__u|=2)),m==null||m.__v===null?(b==-1&&(c>p?C--:c<p&&C++),typeof f.type!="function"&&(f.__u|=4)):b!=h&&(b==h-1?C--:b==h+1?C++:(b>h?C--:C++,f.__u|=4))):t.__k[l]=null;if(u)for(l=0;l<p;l++)(m=e[l])!=null&&(2&m.__u)==0&&(m.__e==s&&(s=ye(m)),qt(m,m));return s}function Kt(t,n,e){var s,c;if(typeof t.type=="function"){for(s=t.__k,c=0;s&&c<s.length;c++)s[c]&&(s[c].__=t,n=Kt(s[c],n,e));return n}t.__e!=n&&(n&&t.type&&!e.contains(n)&&(n=ye(t)),e.insertBefore(t.__e,n||null),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function On(t,n,e,s){var c,l,f=t.key,m=t.type,h=n[e];if(h===null&&t.key==null||h&&f==h.key&&m===h.type&&(2&h.__u)==0)return e;if(s>(h!=null&&(2&h.__u)==0?1:0))for(c=e-1,l=e+1;c>=0||l<n.length;){if(c>=0){if((h=n[c])&&(2&h.__u)==0&&f==h.key&&m===h.type)return c;c--}if(l<n.length){if((h=n[l])&&(2&h.__u)==0&&f==h.key&&m===h.type)return l;l++}}return-1}function It(t,n,e){n[0]=="-"?t.setProperty(n,e??""):t[n]=e==null?"":typeof e!="number"||Sn.test(n)?e:e+"px"}function ze(t,n,e,s,c){var l;e:if(n=="style")if(typeof e=="string")t.style.cssText=e;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(n in s)e&&n in e||It(t.style,n,"");if(e)for(n in e)s&&e[n]===s[n]||It(t.style,n,e[n])}else if(n[0]=="o"&&n[1]=="n")l=n!=(n=n.replace(Wt,"$1")),n=n.toLowerCase()in t||n=="onFocusOut"||n=="onFocusIn"?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+l]=e,e?s?e.t=s.t:(e.t=ft,t.addEventListener(n,l?ct:lt,l)):t.removeEventListener(n,l?ct:lt,l);else{if(c=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=e??"";break e}catch{}typeof e=="function"||(e==null||e===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&e==1?"":e))}}function Ft(t){return function(n){if(this.l){var e=this.l[n.type+t];if(n.u==null)n.u=ft++;else if(n.u<e.t)return;return e(B.event?B.event(n):n)}}}function ht(t,n,e,s,c,l,f,m,h,b){var p,u,C,w,E,N,j,T,v,P,_,S,O,W,J,L,q,Z=n.type;if(n.constructor!==void 0)return null;128&e.__u&&(h=!!(32&e.__u),l=[m=n.__e=e.__e]),(p=B.__b)&&p(n);e:if(typeof Z=="function")try{if(T=n.props,v="prototype"in Z&&Z.prototype.render,P=(p=Z.contextType)&&s[p.__c],_=p?P?P.props.value:p.__:s,e.__c?j=(u=n.__c=e.__c).__=u.__E:(v?n.__c=u=new Z(T,_):(n.__c=u=new $e(T,_),u.constructor=Z,u.render=Ln),P&&P.sub(u),u.props=T,u.state||(u.state={}),u.context=_,u.__n=s,C=u.__d=!0,u.__h=[],u._sb=[]),v&&u.__s==null&&(u.__s=u.state),v&&Z.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ce({},u.__s)),ce(u.__s,Z.getDerivedStateFromProps(T,u.__s))),w=u.props,E=u.state,u.__v=n,C)v&&Z.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),v&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(v&&Z.getDerivedStateFromProps==null&&T!==w&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(T,_),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(T,u.__s,_)===!1||n.__v==e.__v)){for(n.__v!=e.__v&&(u.props=T,u.state=u.__s,u.__d=!1),n.__e=e.__e,n.__k=e.__k,n.__k.some(function(K){K&&(K.__=n)}),S=0;S<u._sb.length;S++)u.__h.push(u._sb[S]);u._sb=[],u.__h.length&&f.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(T,u.__s,_),v&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(w,E,N)})}if(u.context=_,u.props=T,u.__P=t,u.__e=!1,O=B.__r,W=0,v){for(u.state=u.__s,u.__d=!1,O&&O(n),p=u.render(u.props,u.state,u.context),J=0;J<u._sb.length;J++)u.__h.push(u._sb[J]);u._sb=[]}else do u.__d=!1,O&&O(n),p=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++W<25);u.state=u.__s,u.getChildContext!=null&&(s=ce(ce({},s),u.getChildContext())),v&&!C&&u.getSnapshotBeforeUpdate!=null&&(N=u.getSnapshotBeforeUpdate(w,E)),L=p,p!=null&&p.type===Xe&&p.key==null&&(L=Ut(p.props.children)),m=Rt(t,Ke(L)?L:[L],n,e,s,c,l,f,m,h,b),u.base=n.__e,n.__u&=-161,u.__h.length&&f.push(u),j&&(u.__E=u.__=null)}catch(K){if(n.__v=null,h||l!=null)if(K.then){for(n.__u|=h?160:128;m&&m.nodeType==8&&m.nextSibling;)m=m.nextSibling;l[l.indexOf(m)]=null,n.__e=m}else for(q=l.length;q--;)mt(l[q]);else n.__e=e.__e,n.__k=e.__k;B.__e(K,n,e)}else l==null&&n.__v==e.__v?(n.__k=e.__k,n.__e=e.__e):m=n.__e=Pn(e.__e,n,e,s,c,l,f,h,b);return(p=B.diffed)&&p(n),128&n.__u?void 0:m}function Xt(t,n,e){for(var s=0;s<e.length;s++)pt(e[s],e[++s],e[++s]);B.__c&&B.__c(n,t),t.some(function(c){try{t=c.__h,c.__h=[],t.some(function(l){l.call(c)})}catch(l){B.__e(l,c.__v)}})}function Ut(t){return typeof t!="object"||t==null?t:Ke(t)?t.map(Ut):ce({},t)}function Pn(t,n,e,s,c,l,f,m,h){var b,p,u,C,w,E,N,j=e.props,T=n.props,v=n.type;if(v=="svg"?c="http://www.w3.org/2000/svg":v=="math"?c="http://www.w3.org/1998/Math/MathML":c||(c="http://www.w3.org/1999/xhtml"),l!=null){for(b=0;b<l.length;b++)if((w=l[b])&&"setAttribute"in w==!!v&&(v?w.localName==v:w.nodeType==3)){t=w,l[b]=null;break}}if(t==null){if(v==null)return document.createTextNode(T);t=document.createElementNS(c,v,T.is&&T),m&&(B.__m&&B.__m(n,l),m=!1),l=null}if(v===null)j===T||m&&t.data===T||(t.data=T);else{if(l=l&&Re.call(t.childNodes),j=e.props||Ce,!m&&l!=null)for(j={},b=0;b<t.attributes.length;b++)j[(w=t.attributes[b]).name]=w.value;for(b in j)if(w=j[b],b!="children"){if(b=="dangerouslySetInnerHTML")u=w;else if(!(b in T)){if(b=="value"&&"defaultValue"in T||b=="checked"&&"defaultChecked"in T)continue;ze(t,b,null,w,c)}}for(b in T)w=T[b],b=="children"?C=w:b=="dangerouslySetInnerHTML"?p=w:b=="value"?E=w:b=="checked"?N=w:m&&typeof w!="function"||j[b]===w||ze(t,b,w,j[b],c);if(p)m||u&&(p.__html===u.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),n.__k=[];else if(u&&(t.innerHTML=""),Rt(n.type==="template"?t.content:t,Ke(C)?C:[C],n,e,s,v=="foreignObject"?"http://www.w3.org/1999/xhtml":c,l,f,l?l[0]:e.__k&&ye(e,0),m,h),l!=null)for(b=l.length;b--;)mt(l[b]);m||(b="value",v=="progress"&&E==null?t.removeAttribute("value"):E!==void 0&&(E!==t[b]||v=="progress"&&!E||v=="option"&&E!==j[b])&&ze(t,b,E,j[b],c),b="checked",N!==void 0&&N!==t[b]&&ze(t,b,N,j[b],c))}return t}function pt(t,n,e){try{if(typeof t=="function"){var s=typeof t.__u=="function";s&&t.__u(),s&&n==null||(t.__u=t(n))}else t.current=n}catch(c){B.__e(c,e)}}function qt(t,n,e){var s,c;if(B.unmount&&B.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||pt(s,null,n)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){B.__e(l,n)}s.base=s.__P=null}if(s=t.__k)for(c=0;c<s.length;c++)s[c]&&qt(s[c],n,e||typeof t.type!="function");e||mt(t.__e),t.__c=t.__=t.__e=void 0}function Ln(t,n,e){return this.constructor(t,e)}function Gt(t,n,e){var s,c,l,f;n==document&&(n=document.documentElement),B.__&&B.__(t,n),c=(s=!1)?null:n.__k,l=[],f=[],ht(n,t=n.__k=An(Xe,null,[t]),c||Ce,Ce,n.namespaceURI,c?null:n.firstChild?Re.call(n.childNodes):null,l,c?c.__e:n.firstChild,s,f),Xt(l,t,f)}Re=Zt.slice,B={__e:function(t,n,e,s){for(var c,l,f;n=n.__;)if((c=n.__c)&&!c.__)try{if((l=c.constructor)&&l.getDerivedStateFromError!=null&&(c.setState(l.getDerivedStateFromError(t)),f=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(t,s||{}),f=c.__d),f)return c.__E=c}catch(m){t=m}throw t}},Jt=0,$e.prototype.setState=function(t,n){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ce({},this.state),typeof t=="function"&&(t=t(ce({},e),this.props)),t&&ce(e,t),t!=null&&this.__v&&(n&&this._sb.push(n),kt(this))},$e.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),kt(this))},$e.prototype.render=Xe,fe=[],$t=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bt=function(t,n){return t.__v.__b-n.__v.__b},We.__r=0,Wt=/(PointerCapture)$|Capture$/i,ft=0,lt=Ft(!1),ct=Ft(!0);var jn=0;function i(t,n,e,s,c,l){n||(n={});var f,m,h=n;if("ref"in h)for(m in h={},n)m=="ref"?f=n[m]:h[m]=n[m];var b={type:t,props:h,key:e,ref:f,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--jn,__i:-1,__u:0,__source:c,__self:l};if(typeof t=="function"&&(f=t.defaultProps))for(m in f)h[m]===void 0&&(h[m]=f[m]);return B.vnode&&B.vnode(b),b}var Me,R,nt,Et,Ze=0,Qt=[],X=B,St=X.__b,At=X.__r,Tt=X.diffed,Ot=X.__c,Pt=X.unmount,Lt=X.__;function gt(t,n){X.__h&&X.__h(R,t,Ze||n),Ze=0;var e=R.__H||(R.__H={__:[],__h:[]});return t>=e.__.length&&e.__.push({}),e.__[t]}function z(t){return Ze=1,zn(nn,t)}function zn(t,n,e){var s=gt(Me++,2);if(s.t=t,!s.__c&&(s.__=[nn(void 0,n),function(m){var h=s.__N?s.__N[0]:s.__[0],b=s.t(h,m);h!==b&&(s.__N=[b,s.__[1]],s.__c.setState({}))}],s.__c=R,!R.__f)){var c=function(m,h,b){if(!s.__c.__H)return!0;var p=s.__c.__H.__.filter(function(C){return!!C.__c});if(p.every(function(C){return!C.__N}))return!l||l.call(this,m,h,b);var u=s.__c.props!==m;return p.forEach(function(C){if(C.__N){var w=C.__[0];C.__=C.__N,C.__N=void 0,w!==C.__[0]&&(u=!0)}}),l&&l.call(this,m,h,b)||u};R.__f=!0;var l=R.shouldComponentUpdate,f=R.componentWillUpdate;R.componentWillUpdate=function(m,h,b){if(this.__e){var p=l;l=void 0,c(m,h,b),l=p}f&&f.call(this,m,h,b)},R.shouldComponentUpdate=c}return s.__N||s.__}function Ne(t,n){var e=gt(Me++,3);!X.__s&&tn(e.__H,n)&&(e.__=t,e.u=n,R.__H.__h.push(e))}function en(t){return Ze=5,Hn(function(){return{current:t}},[])}function Hn(t,n){var e=gt(Me++,7);return tn(e.__H,n)&&(e.__=t(),e.__H=n,e.__h=t),e.__}function Yn(){for(var t;t=Qt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Be),t.__H.__h.forEach(ut),t.__H.__h=[]}catch(n){t.__H.__h=[],X.__e(n,t.__v)}}X.__b=function(t){R=null,St&&St(t)},X.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),Lt&&Lt(t,n)},X.__r=function(t){At&&At(t),Me=0;var n=(R=t.__c).__H;n&&(nt===R?(n.__h=[],R.__h=[],n.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(n.__h.forEach(Be),n.__h.forEach(ut),n.__h=[],Me=0)),nt=R},X.diffed=function(t){Tt&&Tt(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(Qt.push(n)!==1&&Et===X.requestAnimationFrame||((Et=X.requestAnimationFrame)||Jn)(Yn)),n.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),nt=R=null},X.__c=function(t,n){n.some(function(e){try{e.__h.forEach(Be),e.__h=e.__h.filter(function(s){return!s.__||ut(s)})}catch(s){n.some(function(c){c.__h&&(c.__h=[])}),n=[],X.__e(s,e.__v)}}),Ot&&Ot(t,n)},X.unmount=function(t){Pt&&Pt(t);var n,e=t.__c;e&&e.__H&&(e.__H.__.forEach(function(s){try{Be(s)}catch(c){n=c}}),e.__H=void 0,n&&X.__e(n,e.__v))};var jt=typeof requestAnimationFrame=="function";function Jn(t){var n,e=function(){clearTimeout(s),jt&&cancelAnimationFrame(n),setTimeout(t)},s=setTimeout(e,100);jt&&(n=requestAnimationFrame(e))}function Be(t){var n=R,e=t.__c;typeof e=="function"&&(t.__c=void 0,e()),R=n}function ut(t){var n=R;t.__c=t.__(),R=n}function tn(t,n){return!t||t.length!==n.length||n.some(function(e,s){return e!==t[s]})}function nn(t,n){return typeof n=="function"?n(t):n}var rt=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],be={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var n=new Date(t.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var e=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ke={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var n=t%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},te=function(t,n){return n===void 0&&(n=2),("000"+t).slice(n*-1)},ie=function(t){return t===!0?1:0};function zt(t,n){var e;return function(){var s=this,c=arguments;clearTimeout(e),e=setTimeout(function(){return t.apply(s,c)},n)}}var at=function(t){return t instanceof Array?t:[t]};function Q(t,n,e){if(e===!0)return t.classList.add(n);t.classList.remove(n)}function Y(t,n,e){var s=window.document.createElement(t);return n=n||"",e=e||"",s.className=n,e!==void 0&&(s.textContent=e),s}function He(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function rn(t,n){if(n(t))return t;if(t.parentNode)return rn(t.parentNode,n)}function Ye(t,n){var e=Y("div","numInputWrapper"),s=Y("input","numInput "+t),c=Y("span","arrowUp"),l=Y("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),n!==void 0)for(var f in n)s.setAttribute(f,n[f]);return e.appendChild(s),e.appendChild(c),e.appendChild(l),e}function re(t){try{if(typeof t.composedPath=="function"){var n=t.composedPath();return n[0]}return t.target}catch{return t.target}}var it=function(){},Ve=function(t,n,e){return e.months[n?"shorthand":"longhand"][t]},$n={D:it,F:function(t,n,e){t.setMonth(e.months.longhand.indexOf(n))},G:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},H:function(t,n){t.setHours(parseFloat(n))},J:function(t,n){t.setDate(parseFloat(n))},K:function(t,n,e){t.setHours(t.getHours()%12+12*ie(new RegExp(e.amPM[1],"i").test(n)))},M:function(t,n,e){t.setMonth(e.months.shorthand.indexOf(n))},S:function(t,n){t.setSeconds(parseFloat(n))},U:function(t,n){return new Date(parseFloat(n)*1e3)},W:function(t,n,e){var s=parseInt(n),c=new Date(t.getFullYear(),0,2+(s-1)*7,0,0,0,0);return c.setDate(c.getDate()-c.getDay()+e.firstDayOfWeek),c},Y:function(t,n){t.setFullYear(parseFloat(n))},Z:function(t,n){return new Date(n)},d:function(t,n){t.setDate(parseFloat(n))},h:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},i:function(t,n){t.setMinutes(parseFloat(n))},j:function(t,n){t.setDate(parseFloat(n))},l:it,m:function(t,n){t.setMonth(parseFloat(n)-1)},n:function(t,n){t.setMonth(parseFloat(n)-1)},s:function(t,n){t.setSeconds(parseFloat(n))},u:function(t,n){return new Date(parseFloat(n))},w:it,y:function(t,n){t.setFullYear(2e3+parseFloat(n))}},me={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},De={Z:function(t){return t.toISOString()},D:function(t,n,e){return n.weekdays.shorthand[De.w(t,n,e)]},F:function(t,n,e){return Ve(De.n(t,n,e)-1,!1,n)},G:function(t,n,e){return te(De.h(t,n,e))},H:function(t){return te(t.getHours())},J:function(t,n){return n.ordinal!==void 0?t.getDate()+n.ordinal(t.getDate()):t.getDate()},K:function(t,n){return n.amPM[ie(t.getHours()>11)]},M:function(t,n){return Ve(t.getMonth(),!0,n)},S:function(t){return te(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,n,e){return e.getWeek(t)},Y:function(t){return te(t.getFullYear(),4)},d:function(t){return te(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return te(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,n){return n.weekdays.longhand[t.getDay()]},m:function(t){return te(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},an=function(t){var n=t.config,e=n===void 0?be:n,s=t.l10n,c=s===void 0?ke:s,l=t.isMobile,f=l===void 0?!1:l;return function(m,h,b){var p=b||c;return e.formatDate!==void 0&&!f?e.formatDate(m,h,p):h.split("").map(function(u,C,w){return De[u]&&w[C-1]!=="\\"?De[u](m,p,e):u!=="\\"?u:""}).join("")}},dt=function(t){var n=t.config,e=n===void 0?be:n,s=t.l10n,c=s===void 0?ke:s;return function(l,f,m,h){if(!(l!==0&&!l)){var b=h||c,p,u=l;if(l instanceof Date)p=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)p=new Date(l);else if(typeof l=="string"){var C=f||(e||be).dateFormat,w=String(l).trim();if(w==="today")p=new Date,m=!0;else if(e&&e.parseDate)p=e.parseDate(l,C);else if(/Z$/.test(w)||/GMT$/.test(w))p=new Date(l);else{for(var E=void 0,N=[],j=0,T=0,v="";j<C.length;j++){var P=C[j],_=P==="\\",S=C[j-1]==="\\"||_;if(me[P]&&!S){v+=me[P];var O=new RegExp(v).exec(l);O&&(E=!0)&&N[P!=="Y"?"push":"unshift"]({fn:$n[P],val:O[++T]})}else _||(v+=".")}p=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),N.forEach(function(W){var J=W.fn,L=W.val;return p=J(p,L,b)||p}),p=E?p:void 0}}if(!(p instanceof Date&&!isNaN(p.getTime()))){e.errorHandler(new Error("Invalid date provided: "+u));return}return m===!0&&p.setHours(0,0,0,0),p}}};function ae(t,n,e){return e===void 0&&(e=!0),e!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):t.getTime()-n.getTime()}var Bn=function(t,n,e){return t>Math.min(n,e)&&t<Math.max(n,e)},ot=function(t,n,e){return t*3600+n*60+e},Wn=function(t){var n=Math.floor(t/3600),e=(t-n*3600)/60;return[n,e,t-n*3600-e*60]},Zn={DAY:864e5};function st(t){var n=t.defaultHour,e=t.defaultMinute,s=t.defaultSeconds;if(t.minDate!==void 0){var c=t.minDate.getHours(),l=t.minDate.getMinutes(),f=t.minDate.getSeconds();n<c&&(n=c),n===c&&e<l&&(e=l),n===c&&e===l&&s<f&&(s=t.minDate.getSeconds())}if(t.maxDate!==void 0){var m=t.maxDate.getHours(),h=t.maxDate.getMinutes();n=Math.min(n,m),n===m&&(e=Math.min(h,e)),n===m&&e===h&&(s=t.maxDate.getSeconds())}return{hours:n,minutes:e,seconds:s}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var s=function(m){m&&Object.keys(m).forEach(function(h){return t[h]=m[h]})},c=0,l=n;c<l.length;c++){var f=l[c];s(f)}return t});var G=function(){return G=Object.assign||function(t){for(var n,e=1,s=arguments.length;e<s;e++){n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},G.apply(this,arguments)},Ht=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var s=Array(t),c=0,n=0;n<e;n++)for(var l=arguments[n],f=0,m=l.length;f<m;f++,c++)s[c]=l[f];return s},Vn=300;function Rn(t,n){var e={config:G(G({},be),U.defaultConfig),l10n:ke};e.parseDate=dt({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=N,e._setHoursFromDate=C,e._positionCalendar=Pe,e.changeMonth=ge,e.changeYear=Ae,e.clear=Fe,e.close=Ee,e.onMouseOver=Oe,e._createElement=Y,e.createDay=O,e.destroy=Se,e.isEnabled=de,e.jumpToDate=v,e.updateValue=le,e.open=cn,e.redraw=wt,e.set=mn,e.setDate=hn,e.toggle=bn;function s(){e.utils={getDaysInMonth:function(r,a){return r===void 0&&(r=e.currentMonth),a===void 0&&(a=e.currentYear),r===1&&(a%4===0&&a%100!==0||a%400===0)?29:e.l10n.daysInMonth[r]}}}function c(){e.element=e.input=t,e.isOpen=!1,un(),yt(),gn(),pn(),s(),e.isMobile||S(),T(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&C(e.config.noCalendar?e.latestSelectedDateObj:void 0),le(!1)),m();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&r&&Pe(),V("onReady")}function l(){var r;return((r=e.calendarContainer)===null||r===void 0?void 0:r.getRootNode()).activeElement||document.activeElement}function f(r){return r.bind(e)}function m(){var r=e.config;r.weekNumbers===!1&&r.showMonths===1||r.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var a=(e.days.offsetWidth+1)*r.showMonths;e.daysContainer.style.width=a+"px",e.calendarContainer.style.width=a+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function h(r){if(e.selectedDates.length===0){var a=e.config.minDate===void 0||ae(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),o=st(e.config);a.setHours(o.hours,o.minutes,o.seconds,a.getMilliseconds()),e.selectedDates=[a],e.latestSelectedDateObj=a}r!==void 0&&r.type!=="blur"&&wn(r);var d=e._input.value;u(),le(),e._input.value!==d&&e._debouncedChange()}function b(r,a){return r%12+12*ie(a===e.l10n.amPM[1])}function p(r){switch(r%24){case 0:case 12:return 12;default:return r%12}}function u(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var r=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(e.minuteElement.value,10)||0)%60,o=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(r=b(r,e.amPM.textContent));var d=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&ae(e.latestSelectedDateObj,e.config.minDate,!0)===0,g=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&ae(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var y=ot(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),I=ot(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),D=ot(r,a,o);if(D>I&&D<y){var A=Wn(y);r=A[0],a=A[1],o=A[2]}}else{if(g){var x=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;r=Math.min(r,x.getHours()),r===x.getHours()&&(a=Math.min(a,x.getMinutes())),a===x.getMinutes()&&(o=Math.min(o,x.getSeconds()))}if(d){var k=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;r=Math.max(r,k.getHours()),r===k.getHours()&&a<k.getMinutes()&&(a=k.getMinutes()),a===k.getMinutes()&&(o=Math.max(o,k.getSeconds()))}}w(r,a,o)}}function C(r){var a=r||e.latestSelectedDateObj;a&&a instanceof Date&&w(a.getHours(),a.getMinutes(),a.getSeconds())}function w(r,a,o){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(r%24,a,o||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=te(e.config.time_24hr?r:(12+r)%12+12*ie(r%12===0)),e.minuteElement.value=te(a),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[ie(r>=12)]),e.secondElement!==void 0&&(e.secondElement.value=te(o)))}function E(r){var a=re(r),o=parseInt(a.value)+(r.delta||0);(o/1e3>1||r.key==="Enter"&&!/[^\d]/.test(o.toString()))&&Ae(o)}function N(r,a,o,d){if(a instanceof Array)return a.forEach(function(g){return N(r,g,o,d)});if(r instanceof Array)return r.forEach(function(g){return N(g,a,o,d)});r.addEventListener(a,o,d),e._handlers.push({remove:function(){return r.removeEventListener(a,o,d)}})}function j(){V("onChange")}function T(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(o){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+o+"]"),function(d){return N(d,"click",e[o])})}),e.isMobile){vn();return}var r=zt(ln,50);if(e._debouncedChange=zt(j,Vn),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&N(e.daysContainer,"mouseover",function(o){e.config.mode==="range"&&Oe(re(o))}),N(e._input,"keydown",vt),e.calendarContainer!==void 0&&N(e.calendarContainer,"keydown",vt),!e.config.inline&&!e.config.static&&N(window,"resize",r),window.ontouchstart!==void 0?N(window.document,"touchstart",Ue):N(window.document,"mousedown",Ue),N(window.document,"focus",Ue,{capture:!0}),e.config.clickOpens===!0&&(N(e._input,"focus",e.open),N(e._input,"click",e.open)),e.daysContainer!==void 0&&(N(e.monthNav,"click",yn),N(e.monthNav,["keyup","increment"],E),N(e.daysContainer,"click",xt)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var a=function(o){return re(o).select()};N(e.timeContainer,["increment"],h),N(e.timeContainer,"blur",h,{capture:!0}),N(e.timeContainer,"click",P),N([e.hourElement,e.minuteElement],["focus","click"],a),e.secondElement!==void 0&&N(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&N(e.amPM,"click",function(o){h(o)})}e.config.allowInput&&N(e._input,"blur",sn)}function v(r,a){var o=r!==void 0?e.parseDate(r):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),d=e.currentYear,g=e.currentMonth;try{o!==void 0&&(e.currentYear=o.getFullYear(),e.currentMonth=o.getMonth())}catch(y){y.message="Invalid date supplied: "+o,e.config.errorHandler(y)}a&&e.currentYear!==d&&(V("onYearChange"),M()),a&&(e.currentYear!==d||e.currentMonth!==g)&&V("onMonthChange"),e.redraw()}function P(r){var a=re(r);~a.className.indexOf("arrow")&&_(r,a.classList.contains("arrowUp")?1:-1)}function _(r,a,o){var d=r&&re(r),g=o||d&&d.parentNode&&d.parentNode.firstChild,y=Ge("increment");y.delta=a,g&&g.dispatchEvent(y)}function S(){var r=window.document.createDocumentFragment();if(e.calendarContainer=Y("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(r.appendChild(ee()),e.innerContainer=Y("div","flatpickr-innerContainer"),e.config.weekNumbers){var a=Ie(),o=a.weekWrapper,d=a.weekNumbers;e.innerContainer.appendChild(o),e.weekNumbers=d,e.weekWrapper=o}e.rContainer=Y("div","flatpickr-rContainer"),e.rContainer.appendChild(he()),e.daysContainer||(e.daysContainer=Y("div","flatpickr-days"),e.daysContainer.tabIndex=-1),K(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),r.appendChild(e.innerContainer)}e.config.enableTime&&r.appendChild(se()),Q(e.calendarContainer,"rangeMode",e.config.mode==="range"),Q(e.calendarContainer,"animate",e.config.animate===!0),Q(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(r);var g=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!g&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var y=Y("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(y,e.element),y.appendChild(e.element),e.altInput&&y.appendChild(e.altInput),y.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function O(r,a,o,d){var g=de(a,!0),y=Y("span",r,a.getDate().toString());return y.dateObj=a,y.$i=d,y.setAttribute("aria-label",e.formatDate(a,e.config.ariaDateFormat)),r.indexOf("hidden")===-1&&ae(a,e.now)===0&&(e.todayDateElem=y,y.classList.add("today"),y.setAttribute("aria-current","date")),g?(y.tabIndex=-1,Qe(a)&&(y.classList.add("selected"),e.selectedDateElem=y,e.config.mode==="range"&&(Q(y,"startRange",e.selectedDates[0]&&ae(a,e.selectedDates[0],!0)===0),Q(y,"endRange",e.selectedDates[1]&&ae(a,e.selectedDates[1],!0)===0),r==="nextMonthDay"&&y.classList.add("inRange")))):y.classList.add("flatpickr-disabled"),e.config.mode==="range"&&_n(a)&&!Qe(a)&&y.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&r!=="prevMonthDay"&&d%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(a)+"</span>"),V("onDayCreate",y),y}function W(r){r.focus(),e.config.mode==="range"&&Oe(r)}function J(r){for(var a=r>0?0:e.config.showMonths-1,o=r>0?e.config.showMonths:-1,d=a;d!=o;d+=r)for(var g=e.daysContainer.children[d],y=r>0?0:g.children.length-1,I=r>0?g.children.length:-1,D=y;D!=I;D+=r){var A=g.children[D];if(A.className.indexOf("hidden")===-1&&de(A.dateObj))return A}}function L(r,a){for(var o=r.className.indexOf("Month")===-1?r.dateObj.getMonth():e.currentMonth,d=a>0?e.config.showMonths:-1,g=a>0?1:-1,y=o-e.currentMonth;y!=d;y+=g)for(var I=e.daysContainer.children[y],D=o-e.currentMonth===y?r.$i+a:a<0?I.children.length-1:0,A=I.children.length,x=D;x>=0&&x<A&&x!=(a>0?A:-1);x+=g){var k=I.children[x];if(k.className.indexOf("hidden")===-1&&de(k.dateObj)&&Math.abs(r.$i-x)>=Math.abs(a))return W(k)}e.changeMonth(g),q(J(g),0)}function q(r,a){var o=l(),d=Te(o||document.body),g=r!==void 0?r:d?o:e.selectedDateElem!==void 0&&Te(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Te(e.todayDateElem)?e.todayDateElem:J(a>0?1:-1);g===void 0?e._input.focus():d?L(g,a):W(g)}function Z(r,a){for(var o=(new Date(r,a,1).getDay()-e.l10n.firstDayOfWeek+7)%7,d=e.utils.getDaysInMonth((a-1+12)%12,r),g=e.utils.getDaysInMonth(a,r),y=window.document.createDocumentFragment(),I=e.config.showMonths>1,D=I?"prevMonthDay hidden":"prevMonthDay",A=I?"nextMonthDay hidden":"nextMonthDay",x=d+1-o,k=0;x<=d;x++,k++)y.appendChild(O("flatpickr-day "+D,new Date(r,a-1,x),x,k));for(x=1;x<=g;x++,k++)y.appendChild(O("flatpickr-day",new Date(r,a,x),x,k));for(var $=g+1;$<=42-o&&(e.config.showMonths===1||k%7!==0);$++,k++)y.appendChild(O("flatpickr-day "+A,new Date(r,a+1,$%g),$,k));var oe=Y("div","dayContainer");return oe.appendChild(y),oe}function K(){if(e.daysContainer!==void 0){He(e.daysContainer),e.weekNumbers&&He(e.weekNumbers);for(var r=document.createDocumentFragment(),a=0;a<e.config.showMonths;a++){var o=new Date(e.currentYear,e.currentMonth,1);o.setMonth(e.currentMonth+a),r.appendChild(Z(o.getFullYear(),o.getMonth()))}e.daysContainer.appendChild(r),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Oe()}}function M(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var r=function(d){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&d<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&d>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var a=0;a<12;a++)if(r(a)){var o=Y("option","flatpickr-monthDropdown-month");o.value=new Date(e.currentYear,a).getMonth().toString(),o.textContent=Ve(a,e.config.shorthandCurrentMonth,e.l10n),o.tabIndex=-1,e.currentMonth===a&&(o.selected=!0),e.monthsDropdownContainer.appendChild(o)}}}function F(){var r=Y("div","flatpickr-month"),a=window.document.createDocumentFragment(),o;e.config.showMonths>1||e.config.monthSelectorType==="static"?o=Y("span","cur-month"):(e.monthsDropdownContainer=Y("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),N(e.monthsDropdownContainer,"change",function(I){var D=re(I),A=parseInt(D.value,10);e.changeMonth(A-e.currentMonth),V("onMonthChange")}),M(),o=e.monthsDropdownContainer);var d=Ye("cur-year",{tabindex:"-1"}),g=d.getElementsByTagName("input")[0];g.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&g.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(g.setAttribute("max",e.config.maxDate.getFullYear().toString()),g.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var y=Y("div","flatpickr-current-month");return y.appendChild(o),y.appendChild(d),a.appendChild(y),r.appendChild(a),{container:r,yearElement:g,monthElement:o}}function H(){He(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var r=e.config.showMonths;r--;){var a=F();e.yearElements.push(a.yearElement),e.monthElements.push(a.monthElement),e.monthNav.appendChild(a.container)}e.monthNav.appendChild(e.nextMonthNav)}function ee(){return e.monthNav=Y("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=Y("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=Y("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,H(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(r){e.__hidePrevMonthArrow!==r&&(Q(e.prevMonthNav,"flatpickr-disabled",r),e.__hidePrevMonthArrow=r)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(r){e.__hideNextMonthArrow!==r&&(Q(e.nextMonthNav,"flatpickr-disabled",r),e.__hideNextMonthArrow=r)}}),e.currentYearElement=e.yearElements[0],je(),e.monthNav}function se(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var r=st(e.config);e.timeContainer=Y("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var a=Y("span","flatpickr-time-separator",":"),o=Ye("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=o.getElementsByTagName("input")[0];var d=Ye("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=d.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=te(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?r.hours:p(r.hours)),e.minuteElement.value=te(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():r.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(o),e.timeContainer.appendChild(a),e.timeContainer.appendChild(d),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var g=Ye("flatpickr-second");e.secondElement=g.getElementsByTagName("input")[0],e.secondElement.value=te(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():r.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(Y("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(g)}return e.config.time_24hr||(e.amPM=Y("span","flatpickr-am-pm",e.l10n.amPM[ie((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function he(){e.weekdayContainer?He(e.weekdayContainer):e.weekdayContainer=Y("div","flatpickr-weekdays");for(var r=e.config.showMonths;r--;){var a=Y("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(a)}return pe(),e.weekdayContainer}function pe(){if(e.weekdayContainer){var r=e.l10n.firstDayOfWeek,a=Ht(e.l10n.weekdays.shorthand);r>0&&r<a.length&&(a=Ht(a.splice(r,a.length),a.splice(0,r)));for(var o=e.config.showMonths;o--;)e.weekdayContainer.children[o].innerHTML=`
      <span class='flatpickr-weekday'>
        `+a.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ie(){e.calendarContainer.classList.add("hasWeeks");var r=Y("div","flatpickr-weekwrapper");r.appendChild(Y("span","flatpickr-weekday",e.l10n.weekAbbreviation));var a=Y("div","flatpickr-weeks");return r.appendChild(a),{weekWrapper:r,weekNumbers:a}}function ge(r,a){a===void 0&&(a=!0);var o=a?r:r-e.currentMonth;o<0&&e._hidePrevMonthArrow===!0||o>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=o,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,V("onYearChange"),M()),K(),V("onMonthChange"),je())}function Fe(r,a){if(r===void 0&&(r=!0),a===void 0&&(a=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,a===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var o=st(e.config),d=o.hours,g=o.minutes,y=o.seconds;w(d,g,y)}e.redraw(),r&&V("onChange")}function Ee(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),V("onClose")}function Se(){e.config!==void 0&&V("onDestroy");for(var r=e._handlers.length;r--;)e._handlers[r].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var a=e.calendarContainer.parentNode;if(a.lastChild&&a.removeChild(a.lastChild),a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(o){try{delete e[o]}catch{}})}function ue(r){return e.calendarContainer.contains(r)}function Ue(r){if(e.isOpen&&!e.config.inline){var a=re(r),o=ue(a),d=a===e.input||a===e.altInput||e.element.contains(a)||r.path&&r.path.indexOf&&(~r.path.indexOf(e.input)||~r.path.indexOf(e.altInput)),g=!d&&!o&&!ue(r.relatedTarget),y=!e.config.ignoredFocusElements.some(function(I){return I.contains(a)});g&&y&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&h(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Ae(r){if(!(!r||e.config.minDate&&r<e.config.minDate.getFullYear()||e.config.maxDate&&r>e.config.maxDate.getFullYear())){var a=r,o=e.currentYear!==a;e.currentYear=a||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),o&&(e.redraw(),V("onYearChange"),M())}}function de(r,a){var o;a===void 0&&(a=!0);var d=e.parseDate(r,void 0,a);if(e.config.minDate&&d&&ae(d,e.config.minDate,a!==void 0?a:!e.minDateHasTime)<0||e.config.maxDate&&d&&ae(d,e.config.maxDate,a!==void 0?a:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(d===void 0)return!1;for(var g=!!e.config.enable,y=(o=e.config.enable)!==null&&o!==void 0?o:e.config.disable,I=0,D=void 0;I<y.length;I++){if(D=y[I],typeof D=="function"&&D(d))return g;if(D instanceof Date&&d!==void 0&&D.getTime()===d.getTime())return g;if(typeof D=="string"){var A=e.parseDate(D,void 0,!0);return A&&A.getTime()===d.getTime()?g:!g}else if(typeof D=="object"&&d!==void 0&&D.from&&D.to&&d.getTime()>=D.from.getTime()&&d.getTime()<=D.to.getTime())return g}return!g}function Te(r){return e.daysContainer!==void 0?r.className.indexOf("hidden")===-1&&r.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(r):!1}function sn(r){var a=r.target===e._input,o=e._input.value.trimEnd()!==et();a&&o&&!(r.relatedTarget&&ue(r.relatedTarget))&&e.setDate(e._input.value,!0,r.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function vt(r){var a=re(r),o=e.config.wrap?t.contains(a):a===e._input,d=e.config.allowInput,g=e.isOpen&&(!d||!o),y=e.config.inline&&o&&!d;if(r.keyCode===13&&o){if(d)return e.setDate(e._input.value,!0,a===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),a.blur();e.open()}else if(ue(a)||g||y){var I=!!e.timeContainer&&e.timeContainer.contains(a);switch(r.keyCode){case 13:I?(r.preventDefault(),h(),qe()):xt(r);break;case 27:r.preventDefault(),qe();break;case 8:case 46:o&&!e.config.allowInput&&(r.preventDefault(),e.clear());break;case 37:case 39:if(!I&&!o){r.preventDefault();var D=l();if(e.daysContainer!==void 0&&(d===!1||D&&Te(D))){var A=r.keyCode===39?1:-1;r.ctrlKey?(r.stopPropagation(),ge(A),q(J(1),0)):q(void 0,A)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:r.preventDefault();var x=r.keyCode===40?1:-1;e.daysContainer&&a.$i!==void 0||a===e.input||a===e.altInput?r.ctrlKey?(r.stopPropagation(),Ae(e.currentYear-x),q(J(1),0)):I||q(void 0,x*7):a===e.currentYearElement?Ae(e.currentYear-x):e.config.enableTime&&(!I&&e.hourElement&&e.hourElement.focus(),h(r),e._debouncedChange());break;case 9:if(I){var k=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(ne){return ne}),$=k.indexOf(a);if($!==-1){var oe=k[$+(r.shiftKey?-1:1)];r.preventDefault(),(oe||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(a)&&r.shiftKey&&(r.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&a===e.amPM)switch(r.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],u(),le();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],u(),le();break}(o||ue(a))&&V("onKeyDown",r)}function Oe(r,a){if(a===void 0&&(a="flatpickr-day"),!(e.selectedDates.length!==1||r&&(!r.classList.contains(a)||r.classList.contains("flatpickr-disabled")))){for(var o=r?r.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),d=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),g=Math.min(o,e.selectedDates[0].getTime()),y=Math.max(o,e.selectedDates[0].getTime()),I=!1,D=0,A=0,x=g;x<y;x+=Zn.DAY)de(new Date(x),!0)||(I=I||x>g&&x<y,x<d&&(!D||x>D)?D=x:x>d&&(!A||x<A)&&(A=x));var k=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+a));k.forEach(function($){var oe=$.dateObj,ne=oe.getTime(),we=D>0&&ne<D||A>0&&ne>A;if(we){$.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ve){$.classList.remove(ve)});return}else if(I&&!we)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ve){$.classList.remove(ve)}),r!==void 0&&(r.classList.add(o<=e.selectedDates[0].getTime()?"startRange":"endRange"),d<o&&ne===d?$.classList.add("startRange"):d>o&&ne===d&&$.classList.add("endRange"),ne>=D&&(A===0||ne<=A)&&Bn(ne,d,o)&&$.classList.add("inRange"))})}}function ln(){e.isOpen&&!e.config.static&&!e.config.inline&&Pe()}function cn(r,a){if(a===void 0&&(a=e._positionElement),e.isMobile===!0){if(r){r.preventDefault();var o=re(r);o&&o.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),V("onOpen");return}else if(e._input.disabled||e.config.inline)return;var d=e.isOpen;e.isOpen=!0,d||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),V("onOpen"),Pe(a)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(r===void 0||!e.timeContainer.contains(r.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function bt(r){return function(a){var o=e.config["_"+r+"Date"]=e.parseDate(a,e.config.dateFormat),d=e.config["_"+(r==="min"?"max":"min")+"Date"];o!==void 0&&(e[r==="min"?"minDateHasTime":"maxDateHasTime"]=o.getHours()>0||o.getMinutes()>0||o.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(g){return de(g)}),!e.selectedDates.length&&r==="min"&&C(o),le()),e.daysContainer&&(wt(),o!==void 0?e.currentYearElement[r]=o.getFullYear().toString():e.currentYearElement.removeAttribute(r),e.currentYearElement.disabled=!!d&&o!==void 0&&d.getFullYear()===o.getFullYear())}}function un(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=G(G({},JSON.parse(JSON.stringify(t.dataset||{}))),n),o={};e.config.parseDate=a.parseDate,e.config.formatDate=a.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(k){e.config._enable=Ct(k)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(k){e.config._disable=Ct(k)}});var d=a.mode==="time";if(!a.dateFormat&&(a.enableTime||d)){var g=U.defaultConfig.dateFormat||be.dateFormat;o.dateFormat=a.noCalendar||d?"H:i"+(a.enableSeconds?":S":""):g+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||d)&&!a.altFormat){var y=U.defaultConfig.altFormat||be.altFormat;o.altFormat=a.noCalendar||d?"h:i"+(a.enableSeconds?":S K":" K"):y+(" h:i"+(a.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:bt("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:bt("max")});var I=function(k){return function($){e.config[k==="min"?"_minTime":"_maxTime"]=e.parseDate($,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:I("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:I("max")}),a.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,o,a);for(var D=0;D<r.length;D++)e.config[r[D]]=e.config[r[D]]===!0||e.config[r[D]]==="true";rt.filter(function(k){return e.config[k]!==void 0}).forEach(function(k){e.config[k]=at(e.config[k]||[]).map(f)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var D=0;D<e.config.plugins.length;D++){var A=e.config.plugins[D](e)||{};for(var x in A)rt.indexOf(x)>-1?e.config[x]=at(A[x]).map(f).concat(e.config[x]):typeof a[x]>"u"&&(e.config[x]=A[x])}a.altInputClass||(e.config.altInputClass=_t().className+" "+e.config.altInputClass),V("onParseConfig")}function _t(){return e.config.wrap?t.querySelector("[data-input]"):t}function yt(){typeof e.config.locale!="object"&&typeof U.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=G(G({},U.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?U.l10ns[e.config.locale]:void 0),me.D="("+e.l10n.weekdays.shorthand.join("|")+")",me.l="("+e.l10n.weekdays.longhand.join("|")+")",me.M="("+e.l10n.months.shorthand.join("|")+")",me.F="("+e.l10n.months.longhand.join("|")+")",me.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var r=G(G({},n),JSON.parse(JSON.stringify(t.dataset||{})));r.time_24hr===void 0&&U.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=an(e),e.parseDate=dt({config:e.config,l10n:e.l10n})}function Pe(r){if(typeof e.config.position=="function")return void e.config.position(e,r);if(e.calendarContainer!==void 0){V("onPreCalendarPosition");var a=r||e._positionElement,o=Array.prototype.reduce.call(e.calendarContainer.children,function(Fn,En){return Fn+En.offsetHeight},0),d=e.calendarContainer.offsetWidth,g=e.config.position.split(" "),y=g[0],I=g.length>1?g[1]:null,D=a.getBoundingClientRect(),A=window.innerHeight-D.bottom,x=y==="above"||y!=="below"&&A<o&&D.top>o,k=window.pageYOffset+D.top+(x?-o-2:a.offsetHeight+2);if(Q(e.calendarContainer,"arrowTop",!x),Q(e.calendarContainer,"arrowBottom",x),!e.config.inline){var $=window.pageXOffset+D.left,oe=!1,ne=!1;I==="center"?($-=(d-D.width)/2,oe=!0):I==="right"&&($-=d-D.width,ne=!0),Q(e.calendarContainer,"arrowLeft",!oe&&!ne),Q(e.calendarContainer,"arrowCenter",oe),Q(e.calendarContainer,"arrowRight",ne);var we=window.document.body.offsetWidth-(window.pageXOffset+D.right),ve=$+d>window.document.body.offsetWidth,xn=we+d>window.document.body.offsetWidth;if(Q(e.calendarContainer,"rightMost",ve),!e.config.static)if(e.calendarContainer.style.top=k+"px",!ve)e.calendarContainer.style.left=$+"px",e.calendarContainer.style.right="auto";else if(!xn)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=we+"px";else{var tt=dn();if(tt===void 0)return;var Dn=window.document.body.offsetWidth,Cn=Math.max(0,Dn/2-d/2),Mn=".flatpickr-calendar.centerMost:before",Nn=".flatpickr-calendar.centerMost:after",kn=tt.cssRules.length,In="{left:"+D.left+"px;right:auto;}";Q(e.calendarContainer,"rightMost",!1),Q(e.calendarContainer,"centerMost",!0),tt.insertRule(Mn+","+Nn+In,kn),e.calendarContainer.style.left=Cn+"px",e.calendarContainer.style.right="auto"}}}}function dn(){for(var r=null,a=0;a<document.styleSheets.length;a++){var o=document.styleSheets[a];if(o.cssRules){try{o.cssRules}catch{continue}r=o;break}}return r??fn()}function fn(){var r=document.createElement("style");return document.head.appendChild(r),r.sheet}function wt(){e.config.noCalendar||e.isMobile||(M(),je(),K())}function qe(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function xt(r){r.preventDefault(),r.stopPropagation();var a=function(k){return k.classList&&k.classList.contains("flatpickr-day")&&!k.classList.contains("flatpickr-disabled")&&!k.classList.contains("notAllowed")},o=rn(re(r),a);if(o!==void 0){var d=o,g=e.latestSelectedDateObj=new Date(d.dateObj.getTime()),y=(g.getMonth()<e.currentMonth||g.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=d,e.config.mode==="single")e.selectedDates=[g];else if(e.config.mode==="multiple"){var I=Qe(g);I?e.selectedDates.splice(parseInt(I),1):e.selectedDates.push(g)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=g,e.selectedDates.push(g),ae(g,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(k,$){return k.getTime()-$.getTime()}));if(u(),y){var D=e.currentYear!==g.getFullYear();e.currentYear=g.getFullYear(),e.currentMonth=g.getMonth(),D&&(V("onYearChange"),M()),V("onMonthChange")}if(je(),K(),le(),!y&&e.config.mode!=="range"&&e.config.showMonths===1?W(d):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var A=e.config.mode==="single"&&!e.config.enableTime,x=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(A||x)&&qe()}j()}}var Le={locale:[yt,pe],showMonths:[H,m,he],minDate:[v],maxDate:[v],positionElement:[Mt],clickOpens:[function(){e.config.clickOpens===!0?(N(e._input,"focus",e.open),N(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function mn(r,a){if(r!==null&&typeof r=="object"){Object.assign(e.config,r);for(var o in r)Le[o]!==void 0&&Le[o].forEach(function(d){return d()})}else e.config[r]=a,Le[r]!==void 0?Le[r].forEach(function(d){return d()}):rt.indexOf(r)>-1&&(e.config[r]=at(a));e.redraw(),le(!0)}function Dt(r,a){var o=[];if(r instanceof Array)o=r.map(function(d){return e.parseDate(d,a)});else if(r instanceof Date||typeof r=="number")o=[e.parseDate(r,a)];else if(typeof r=="string")switch(e.config.mode){case"single":case"time":o=[e.parseDate(r,a)];break;case"multiple":o=r.split(e.config.conjunction).map(function(d){return e.parseDate(d,a)});break;case"range":o=r.split(e.l10n.rangeSeparator).map(function(d){return e.parseDate(d,a)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(r)));e.selectedDates=e.config.allowInvalidPreload?o:o.filter(function(d){return d instanceof Date&&de(d,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(d,g){return d.getTime()-g.getTime()})}function hn(r,a,o){if(a===void 0&&(a=!1),o===void 0&&(o=e.config.dateFormat),r!==0&&!r||r instanceof Array&&r.length===0)return e.clear(a);Dt(r,o),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),v(void 0,a),C(),e.selectedDates.length===0&&e.clear(!1),le(a),a&&V("onChange")}function Ct(r){return r.slice().map(function(a){return typeof a=="string"||typeof a=="number"||a instanceof Date?e.parseDate(a,void 0,!0):a&&typeof a=="object"&&a.from&&a.to?{from:e.parseDate(a.from,void 0),to:e.parseDate(a.to,void 0)}:a}).filter(function(a){return a})}function pn(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var r=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);r&&Dt(r,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function gn(){if(e.input=_t(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=Y(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Mt()}function Mt(){e._positionElement=e.config.positionElement||e._input}function vn(){var r=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=Y("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=r,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=r==="datetime-local"?"Y-m-d\\TH:i:S":r==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}N(e.mobileInput,"change",function(a){e.setDate(re(a).value,!1,e.mobileFormatStr),V("onChange"),V("onClose")})}function bn(r){if(e.isOpen===!0)return e.close();e.open(r)}function V(r,a){if(e.config!==void 0){var o=e.config[r];if(o!==void 0&&o.length>0)for(var d=0;o[d]&&d<o.length;d++)o[d](e.selectedDates,e.input.value,e,a);r==="onChange"&&(e.input.dispatchEvent(Ge("change")),e.input.dispatchEvent(Ge("input")))}}function Ge(r){var a=document.createEvent("Event");return a.initEvent(r,!0,!0),a}function Qe(r){for(var a=0;a<e.selectedDates.length;a++){var o=e.selectedDates[a];if(o instanceof Date&&ae(o,r)===0)return""+a}return!1}function _n(r){return e.config.mode!=="range"||e.selectedDates.length<2?!1:ae(r,e.selectedDates[0])>=0&&ae(r,e.selectedDates[1])<=0}function je(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(r,a){var o=new Date(e.currentYear,e.currentMonth,1);o.setMonth(e.currentMonth+a),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[a].textContent=Ve(o.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=o.getMonth().toString(),r.value=o.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function et(r){var a=r||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(o){return e.formatDate(o,a)}).filter(function(o,d,g){return e.config.mode!=="range"||e.config.enableTime||g.indexOf(o)===d}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function le(r){r===void 0&&(r=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=et(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=et(e.config.altFormat)),r!==!1&&V("onValueUpdate")}function yn(r){var a=re(r),o=e.prevMonthNav.contains(a),d=e.nextMonthNav.contains(a);o||d?ge(o?-1:1):e.yearElements.indexOf(a)>=0?a.select():a.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):a.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function wn(r){r.preventDefault();var a=r.type==="keydown",o=re(r),d=o;e.amPM!==void 0&&o===e.amPM&&(e.amPM.textContent=e.l10n.amPM[ie(e.amPM.textContent===e.l10n.amPM[0])]);var g=parseFloat(d.getAttribute("min")),y=parseFloat(d.getAttribute("max")),I=parseFloat(d.getAttribute("step")),D=parseInt(d.value,10),A=r.delta||(a?r.which===38?1:-1:0),x=D+I*A;if(typeof d.value<"u"&&d.value.length===2){var k=d===e.hourElement,$=d===e.minuteElement;x<g?(x=y+x+ie(!k)+(ie(k)&&ie(!e.amPM)),$&&_(void 0,-1,e.hourElement)):x>y&&(x=d===e.hourElement?x-y-ie(!e.amPM):g,$&&_(void 0,1,e.hourElement)),e.amPM&&k&&(I===1?x+D===23:Math.abs(x-D)>I)&&(e.amPM.textContent=e.l10n.amPM[ie(e.amPM.textContent===e.l10n.amPM[0])]),d.value=te(x)}}return c(),e}function _e(t,n){for(var e=Array.prototype.slice.call(t).filter(function(f){return f instanceof HTMLElement}),s=[],c=0;c<e.length;c++){var l=e[c];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=Rn(l,n||{}),s.push(l._flatpickr)}catch(f){console.error(f)}}return s.length===1?s[0]:s}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return _e(this,t)},HTMLElement.prototype.flatpickr=function(t){return _e([this],t)});var U=function(t,n){return typeof t=="string"?_e(window.document.querySelectorAll(t),n):t instanceof Node?_e([t],n):_e(t,n)};U.defaultConfig={};U.l10ns={en:G({},ke),default:G({},ke)};U.localize=function(t){U.l10ns.default=G(G({},U.l10ns.default),t)};U.setDefaults=function(t){U.defaultConfig=G(G({},U.defaultConfig),t)};U.parseDate=dt({});U.formatDate=an({});U.compareDates=ae;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return _e(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=U);var xe={exports:{}},Kn=xe.exports,Yt;function Xn(){return Yt||(Yt=1,function(t,n){(function(e,s){s(n)})(Kn,function(e){var s=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},c={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};s.l10ns.de=c;var l=s.l10ns;e.German=c,e.default=l,Object.defineProperty(e,"__esModule",{value:!0})})}(xe,xe.exports)),xe.exports}var Un=Xn();function qn(){const[t,n]=z([]),[e,s]=z(!0),[c,l]=z(null),[f,m]=z(""),[h,b]=z(""),[p,u]=z(""),[C,w]=z(""),[E,N]=z(""),[j,T]=z(null),[v,P]=z(!1),[_,S]=z(null),[O,W]=z(()=>{const M=new Date;return`${String(M.getDate()).padStart(2,"0")}.${String(M.getMonth()+1).padStart(2,"0")}.${M.getFullYear()}`}),J=en(null);Ne(()=>{q(),Z(),J.current&&U(J.current,{dateFormat:"d.m.Y",locale:Un.German,maxDate:"today",defaultDate:O,onChange:(M,F)=>{W(F)}})},[]);function L(M){const F=String(M??"0"),H=parseFloat(F.replace(",","."));return isNaN(H)?"0,00":H.toFixed(2).replace(".",",")}async function q(){try{s(!0),l(null);const M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",F=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/read-tenant-sheet",{method:"GET",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(!F.ok){const ee=await F.text();throw new Error(`HTTP-Fehler ${F.status}: ${ee}`)}const H=await F.json();if(!(H!=null&&H.mieter)||!Array.isArray(H.mieter))throw console.error("Unerwartetes Antwortformat:",H),new Error("Keine gültigen Mieterdaten in der Antwort erhalten.");n(H.mieter)}catch(M){console.error("Fehler beim Laden der Mieter:",M.message),l(`Die Mieterdaten konnten nicht geladen werden: ${M.message}`)}finally{s(!1)}}async function Z(){try{const M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",F=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/read-last-data-sheet",{method:"GET",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(!F.ok){const ee=await F.text();throw new Error(`HTTP-Fehler ${F.status}: ${ee}`)}const H=await F.json();b(L(H.lastZaehlerstand)),w(L(H.strompreis)),N(L(H.grundpreis))}catch(M){console.error("Fehler beim Laden des letzten Zählerstands:",M.message),l(`Der letzte Zählerstand konnte nicht geladen werden: ${M.message}`)}}async function K(){try{if(!f){S("Bitte wählen Sie einen Mieter aus.");return}if(!p){S("Bitte geben Sie einen neuen Zählerstand ein.");return}const M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",F=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/write-meter-reading",{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify({mieter:f,zaehlerstand:p.replace(",","."),strompreis:C.replace(",","."),grundpreis:E.replace(",","."),datum:O,sendInvoice:!1})});if(!F.ok){const ee=await F.text();throw new Error(`Fehler beim Speichern des Zählerstands: ${F.status} - ${ee}`)}const H=await F.json();if(S(H.message),v){const ee=new FormData;ee.append("mieter",f),j&&ee.append("photo",j),ee.append("sendInvoice","true");const se=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/generate-invoice",{method:"POST",headers:{Authorization:`Bearer ${M}`},body:ee});if(!se.ok){const pe=await se.text();throw new Error(`Fehler beim Generieren der Rechnung: ${se.status} - ${pe}`)}const he=await se.json();S(`${H.message} und ${he.message}`)}await Z(),u(""),T(null)}catch(M){console.error("Fehler beim Erfassen des Zählerstands:",M.message),S(`Fehler: ${M.message}`)}}return i("div",{className:"rounded-xl bg-white p-6 shadow-lg transition-shadow hover:shadow-xl",children:[i("div",{className:"mb-4",children:[i("label",{htmlFor:"mieter",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Mieter auswählen"}),e?i("div",{className:"flex items-center justify-center py-4",children:[i("div",{className:"h-6 w-6 animate-spin rounded-full border-3 border-gray-300 border-t-blue-600"}),i("span",{className:"ml-3 text-sm text-gray-600",children:"Lade Mieter..."})]}):c?i("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600",children:[i("div",{className:"flex items-center",children:[i("svg",{className:"mr-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:i("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),i("button",{onClick:()=>{q(),Z()},className:"mt-3 rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Erneut versuchen"})]}):i("select",{id:"mieter",value:f,onChange:M=>m(M.target.value),className:"mt-1 block w-full rounded-lg border border-gray-300 bg-white px-4 py-2 text-gray-700 shadow-sm transition-colors focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm",children:[i("option",{value:"",children:"Bitte wählen Sie einen Mieter"}),t.map((M,F)=>i("option",{value:M,children:M},F))]})]}),i("div",{className:"mb-4",children:[i("label",{htmlFor:"letzterZaehlerstand",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Letzter Zählerstand"}),i("input",{id:"letzterZaehlerstand",value:h?`${h} kWh`:"Laden...",readOnly:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 bg-gray-100 px-4 py-2 text-gray-700 shadow-sm focus:outline-none sm:text-sm"})]}),i("div",{className:"mb-4",children:[i("label",{htmlFor:"neuerZaehlerstand",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Neuer Zählerstand"}),i("input",{id:"neuerZaehlerstand",value:p,onChange:M=>{const F=M.target;u(F.value.replace(/[^0-9,]/g,""))},placeholder:"z.B. 564,50",className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm"})]}),i("div",{className:"mb-4 flex space-x-4",children:[i("div",{className:"flex-1",children:[i("label",{htmlFor:"strompreis",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Strompreis pro kWh"}),i("input",{id:"strompreis",value:C?`${C} €`:"Laden...",onChange:M=>{const H=M.target.value.replace(" €","").replace(/[^0-9,]/g,"");w(H)},className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm"})]}),i("div",{className:"flex-1",children:[i("label",{htmlFor:"grundpreis",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Grundpreis"}),i("input",{id:"grundpreis",value:E?`${E} €`:"Laden...",onChange:M=>{const H=M.target.value.replace(" €","").replace(/[^0-9,]/g,"");N(H)},className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm"})]})]}),i("div",{className:"mb-4",children:[i("label",{htmlFor:"datum",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Erfassungsdatum"}),i("input",{id:"datum",ref:J,value:O,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm"})]}),i("div",{className:"mb-4",children:[i("label",{htmlFor:"photo",className:"mb-2 block text-sm font-semibold text-gray-700",children:"Zählerstandsfoto"}),i("input",{id:"photo",type:"file",accept:"image/*",onChange:M=>{var F;return T(((F=M.target.files)==null?void 0:F[0])||null)},className:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),i("div",{className:"mb-4 flex justify-end items-center",children:[i("span",{className:"mr-3 text-sm font-semibold text-gray-700",children:"Rechnung"}),i("div",{className:`relative inline-block w-10 h-6 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${v?"bg-blue-600":"bg-gray-300"}`,onClick:()=>P(!v),children:i("span",{className:`absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform duration-200 ease-in-out transform ${v?"translate-x-4":"translate-x-0"}`})})]}),i("div",{className:"mt-6",children:i("button",{onClick:K,className:"w-full rounded-lg bg-blue-600 px-4 py-2 text-white font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Zählerstand erfassen"})}),_&&i("div",{className:`mt-4 rounded-lg p-4 text-sm ${_.includes("Fehler")?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:_})]})}function Gn({isOpen:t,onClose:n}){const[e,s]=z({anrede:"",vorname:"",nachname:"",email:"",strasse:"",hausnummer:"",plz:"",stadt:""}),[c,l]=z(""),[f,m]=z(null),[h,b]=z(!1),[p,u]=z([]),[C,w]=z(!1),E=en(null),N=(_,S)=>()=>{E.current&&clearTimeout(E.current),E.current=setTimeout(_,S)},j=async _=>{if(!_||_.length<3){console.log("Input zu kurz oder leer:",_),u([]),w(!1);return}console.log("Fetching suggestions for:",_);try{const S="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",O=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/autocomplete-address",{method:"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify({query:_})}),W=await O.json();console.log("Response from Supabase:",W),O.ok?(u(W.predictions||[]),w(!0)):(console.error("Fehler bei Autocomplete:",W.error),m(`Fehler bei Autocomplete: ${W.error}`))}catch(S){console.error("Fehler beim Abrufen der Vorschläge:",S),m("Fehler beim Laden der Adressvorschläge.")}};Ne(()=>{const _=N(()=>{console.log("Debounced fetch triggered with:",c),j(c)},500);return t&&_(),()=>{E.current&&clearTimeout(E.current)}},[c,t]);const T=_=>{const S=_.target.value;console.log("Input changed to:",S),l(S)},v=async _=>{var S;console.log("Selected suggestion:",_);try{const O="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",W=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/autocomplete-address",{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({place_id:_.place_id})}),J=await W.json();if(console.log("Place Details Response:",J),W.ok)s(L=>({...L,strasse:J.street||"",hausnummer:J.number||"",plz:J.postalCode||"",stadt:J.city||""})),l(J.street||"");else{console.error("Fehler bei Place Details:",J.error),m(`Fehler bei Place Details: ${J.error}`);const L=_.description.split(", "),q=L[0].match(/^(.*?)\s*(\d+\w*)$/)||[L[0],L[0],""],Z=q[2]||"",K=q[1].trim()||L[0],M=((S=L[1].match(/^\d{5}/))==null?void 0:S[0])||"",F=L[1].replace(M,"").trim()||L[2]||"";console.log("Fallback parsed:",{strasse:K,hausnummer:Z,plz:M,stadt:F}),s(H=>({...H,strasse:K,hausnummer:Z,plz:M,stadt:F})),l(K)}}catch(O){console.error("Fehler beim Abrufen der Adressdetails:",O),m("Fehler beim Laden der Adressdetails.")}w(!1)},P=async _=>{_.preventDefault();const{anrede:S,vorname:O,nachname:W,email:J,strasse:L,hausnummer:q,plz:Z,stadt:K}=e;if(!S||!O||!W||!J||!L||!q||!Z||!K){m("Fehler: Alle Felder sind erforderlich.");return}b(!0),m(null);try{const M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",F=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/read-tenant-sheet",{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),H=await F.json();if(F.ok)m(H.message||"Mieter erfolgreich angelegt!"),s({anrede:"",vorname:"",nachname:"",email:"",strasse:"",hausnummer:"",plz:"",stadt:""}),l("");else if(F.status===409)m(H.message||"Fehler: Dieser Mieter existiert bereits.");else throw new Error(H.error||`HTTP-Fehler ${F.status}`)}catch(M){console.error("Fehler beim Anlegen des Mieters:",M.message),m(`Fehler: ${M.message}`)}finally{b(!1)}};return Ne(()=>{t||(s({anrede:"",vorname:"",nachname:"",email:"",strasse:"",hausnummer:"",plz:"",stadt:""}),l(""),m(null),u([]),w(!1),E.current&&clearTimeout(E.current))},[t]),t?i("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i("div",{className:"flex min-h-screen items-center justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[i("div",{className:"fixed inset-0 transition-opacity",onClick:n,children:i("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),i("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[i("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:i("button",{type:"button",onClick:n,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:[i("span",{className:"sr-only",children:"Schließen"}),i("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),i("div",{className:"sm:flex sm:items-start",children:i("div",{className:"mt-3 w-full text-center sm:mt-0 sm:text-left",children:[i("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Neuen Mieter anlegen"}),i("div",{className:"mt-4",children:i("form",{onSubmit:P,className:"space-y-4",children:[i("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i("div",{children:[i("label",{htmlFor:"anrede",className:"block text-sm font-medium text-gray-700",children:"Anrede"}),i("select",{id:"anrede",value:e.anrede,onChange:_=>s({...e,anrede:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 py-2 pl-3 pr-10 text-base focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h,children:[i("option",{value:"",children:"Bitte wählen"}),i("option",{value:"Herr",children:"Herr"}),i("option",{value:"Frau",children:"Frau"})]})]}),i("div",{children:[i("label",{htmlFor:"vorname",className:"block text-sm font-medium text-gray-700",children:"Vorname"}),i("input",{type:"text",id:"vorname",value:e.vorname,onChange:_=>s({...e,vorname:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h})]}),i("div",{children:[i("label",{htmlFor:"nachname",className:"block text-sm font-medium text-gray-700",children:"Nachname"}),i("input",{type:"text",id:"nachname",value:e.nachname,onChange:_=>s({...e,nachname:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h})]}),i("div",{children:[i("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-Mail"}),i("input",{type:"email",id:"email",value:e.email,onChange:_=>s({...e,email:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h})]}),i("div",{className:"sm:col-span-2 relative",children:[i("label",{htmlFor:"strasse",className:"block text-sm font-medium text-gray-700",children:"Straße (mit Autovervollständigung)"}),i("input",{type:"text",id:"strasse",value:c,onChange:T,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h,placeholder:"Geben Sie eine Adresse ein..."}),C&&p.length>0&&i("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-60 overflow-y-auto shadow-lg",children:p.map(_=>i("li",{className:"px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",onClick:()=>v(_),children:_.description},_.place_id))})]}),i("div",{children:[i("label",{htmlFor:"hausnummer",className:"block text-sm font-medium text-gray-700",children:"Hausnummer"}),i("input",{type:"text",id:"hausnummer",value:e.hausnummer,onChange:_=>s({...e,hausnummer:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h})]}),i("div",{children:[i("label",{htmlFor:"plz",className:"block text-sm font-medium text-gray-700",children:"PLZ"}),i("input",{type:"text",id:"plz",value:e.plz,onChange:_=>s({...e,plz:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h})]}),i("div",{children:[i("label",{htmlFor:"stadt",className:"block text-sm font-medium text-gray-700",children:"Stadt"}),i("input",{type:"text",id:"stadt",value:e.stadt,onChange:_=>s({...e,stadt:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",disabled:h})]})]}),f&&i("div",{className:`mt-4 rounded-lg p-4 text-sm ${f.includes("Fehler")?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:f}),i("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[i("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:col-start-2 sm:text-sm disabled:bg-blue-400",disabled:h,children:h?i("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[i("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}):"Anlegen"}),i("button",{type:"button",onClick:n,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:col-start-1 sm:mt-0 sm:text-sm",disabled:h,children:"Abbrechen"})]})]})})]})})]})]})}):null}function Qn(){const[t,n]=z([]),[e,s]=z(!0),[c,l]=z(null),[f,m]=z(""),[h,b]=z(""),[p,u]=z([]),[C,w]=z(null);Ne(()=>{E()},[]);async function E(){try{s(!0),l(null);const P=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/read-tabelle1",{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA","Content-Type":"application/json"}});if(!P.ok)throw new Error("Fehler beim Laden der Abrechnungshistorie");const _=await P.json();if(console.log("Raw Data:",_),!Array.isArray(_))throw new Error("Erwartetes Datenformat ist kein Array");const S=_.findLastIndex(L=>L[0]&&L[0].trim()!==""),W=(S>=0?_.slice(0,S+1):[]).filter(L=>L&&L.length>=10).map(L=>{const[q,Z,K,M,F,,H,ee,,se,he,pe]=L,Ie=parseFloat(String(M).replace(",","."))||0,ge=parseFloat(String(F).replace(",","."))||0,Fe=parseFloat(String(H).replace(",","."))||0,Ee=parseFloat(String(ee).replace(",","."))||0,Se=Ie-ge,ue=se?Se*Fe+Ee:null;return{mieter:q||"",datum:Z||"",zaehlerstand:Ie,letzterZaehlerstand:ge,verbrauch:Se,betrag:ue,status:se||"",zeitstempelEintragung:K||"",strompreis:Fe,grundpreis:Ee,pdfId:he||"",photoId:pe}}),J=Array.from(new Set(W.map(L=>L.mieter).filter(Boolean)));u(J),n(W)}catch(v){console.error("Fehler:",v),l(v.message)}finally{s(!1)}}const N=t.filter(v=>{const P=!f||v.mieter===f,_=!h||h==="Eintrag"&&!v.status||h==="Verschickt"&&v.status;return P&&_}),j=async v=>{if(!v.pdfId){alert("Keine Rechnung verfügbar zum Download");return}try{const _=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/download-invoice-by-id",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA","Content-Type":"application/json"},body:JSON.stringify({pdfId:v.pdfId})});if(!_.ok)throw new Error("Fehler beim Abrufen des Download-Links");const{downloadUrl:S}=await _.json();if(!S)throw new Error("Download-URL nicht gefunden");const O=document.createElement("a");O.href=S,O.download=`Stromabrechnung_${v.mieter}_${v.datum}.pdf`,document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(P){console.error("Download Fehler:",P),alert(`Fehler beim Herunterladen: ${P.message}`)}};async function T(v){if(!v){console.log("Keine photoId vorhanden");return}console.log("Versuche Foto-Vorschau für photoId:",v);try{const P="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA",_=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/get-photo-url",{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({photoId:v})});if(!_.ok){const O=await _.text();throw new Error(`Fehler beim Abrufen der Foto-URL: ${_.status} - ${O}`)}const{downloadUrl:S}=await _.json();console.log("Download-URL:",S),w(S)}catch(P){console.error("Fehler beim Laden der Foto-Vorschau:",P.message),l(`Foto-Vorschau konnte nicht geladen werden: ${P.message}`),alert(`Fehler beim Laden der Foto-Vorschau: ${P.message}`)}}return i("div",{className:"space-y-6 rounded-xl bg-white p-6 shadow-lg",children:[i("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[i("div",{children:[i("label",{className:"block text-sm font-medium text-gray-700",children:"Mieter"}),i("select",{value:f,onChange:v=>m(v.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[i("option",{value:"",children:"Alle Mieter"}),p.map(v=>i("option",{value:v,children:v},v))]})]}),i("div",{children:[i("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),i("select",{value:h,onChange:v=>b(v.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[i("option",{value:"",children:"Alle"}),i("option",{value:"Eintrag",children:"Eintrag"}),i("option",{value:"Verschickt",children:"Verschickt"})]})]})]}),e?i("div",{className:"flex items-center justify-center py-8",children:[i("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),i("span",{className:"ml-3 text-gray-600",children:"Lade Abrechnungshistorie..."})]}):c?i("div",{className:"rounded-lg bg-red-50 p-4 text-red-600",children:[i("p",{children:c}),i("button",{onClick:E,className:"mt-2 rounded bg-red-100 px-4 py-2 text-red-700 hover:bg-red-200",children:"Erneut versuchen"})]}):i("div",{className:"mt-6 overflow-x-auto",children:i("table",{className:"min-w-full divide-y divide-gray-200",children:[i("thead",{className:"bg-gray-50",children:i("tr",{children:[i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Mieter"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Datum"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Zählerstand"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Verbrauch"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Betrag"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Aktionen"})]})}),i("tbody",{className:"divide-y divide-gray-200 bg-white",children:N.map((v,P)=>i("tr",{className:"hover:bg-gray-50",children:[i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:v.mieter}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:v.datum}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:[v.zaehlerstand.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})," kWh"]}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:[v.verbrauch.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})," kWh"]}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:v.betrag!==null?`${v.betrag.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})} €`:"-"}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:v.status?i("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 cursor-pointer",title:`Rechnung verschickt am: ${v.status}`,children:"Verschickt"}):i("span",{className:"inline-flex rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 cursor-pointer",title:`Eintragung am: ${v.zeitstempelEintragung}`,children:"Eintrag"})}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:[v.photoId&&i("button",{onClick:()=>T(v.photoId),className:"mr-2 text-gray-600 hover:text-blue-600 cursor-pointer",title:"Foto anzeigen",children:i("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),v.status&&i("button",{onClick:()=>j(v),className:"text-gray-600 hover:text-blue-600 cursor-pointer",title:"Download",children:i("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]},P))})]})}),C&&i("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i("div",{className:"bg-white p-4 rounded-lg max-w-3xl max-h-[80vh] overflow-auto",children:[i("img",{src:C,alt:"Zählerstand Foto",className:"max-w-full h-auto"}),i("button",{onClick:()=>w(null),className:"mt-4 w-full rounded-lg bg-blue-600 px-4 py-2 text-white font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Schließen"})]})})]})}function er(){const[t,n]=z([]),[e,s]=z(!0),[c,l]=z(null),[f,m]=z({mieter:"",status:"",datumVon:"",datumBis:""});Ne(()=>{h()},[]);async function h(){try{s(!0),l(null);const u=await fetch("https://kfosgimkfydlbranmqvv.supabase.co/functions/v1/read-last-data-sheet",{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtmb3NnaW1rZnlkbGJyYW5tcXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NDAyMTEsImV4cCI6MjA1NzIxNjIxMX0.BDjsfyPBKQ3ofLw2N7dKypFzVWc0FFOQeqcmSOHKCiA","Content-Type":"application/json"}});if(!u.ok)throw new Error("Fehler beim Laden der Verbrauchsdaten");const C=await u.json();n(C)}catch(p){l(p.message)}finally{s(!1)}}const b=t.filter(p=>(!f.mieter||p.mieter.includes(f.mieter))&&(!f.status||p.status===f.status)&&(!f.datumVon||new Date(p.datum)>=new Date(f.datumVon))&&(!f.datumBis||new Date(p.datum)<=new Date(f.datumBis)));return i("div",{className:"space-y-6 rounded-xl bg-white p-6 shadow-lg",children:[i("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[i("div",{children:[i("label",{className:"block text-sm font-medium text-gray-700",children:"Mieter"}),i("input",{type:"text",value:f.mieter,onChange:p=>m({...f,mieter:p.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Mieter filtern..."})]}),i("div",{children:[i("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),i("select",{value:f.status,onChange:p=>m({...f,status:p.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[i("option",{value:"",children:"Alle"}),i("option",{value:"offen",children:"Offen"}),i("option",{value:"bezahlt",children:"Bezahlt"})]})]}),i("div",{children:[i("label",{className:"block text-sm font-medium text-gray-700",children:"Von"}),i("input",{type:"date",value:f.datumVon,onChange:p=>m({...f,datumVon:p.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),i("div",{children:[i("label",{className:"block text-sm font-medium text-gray-700",children:"Bis"}),i("input",{type:"date",value:f.datumBis,onChange:p=>m({...f,datumBis:p.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]})]}),e?i("div",{className:"flex items-center justify-center py-8",children:[i("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),i("span",{className:"ml-3 text-gray-600",children:"Lade Verbrauchsdaten..."})]}):c?i("div",{className:"rounded-lg bg-red-50 p-4 text-red-600",children:[i("p",{children:c}),i("button",{onClick:h,className:"mt-2 rounded bg-red-100 px-4 py-2 text-red-700 hover:bg-red-200",children:"Erneut versuchen"})]}):i("div",{className:"mt-6 overflow-x-auto",children:i("table",{className:"min-w-full divide-y divide-gray-200",children:[i("thead",{className:"bg-gray-50",children:i("tr",{children:[i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Mieter"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Datum"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Verbrauch"}),i("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Gesamtbetrag"})]})}),i("tbody",{className:"divide-y divide-gray-200 bg-white",children:b.map((p,u)=>i("tr",{className:"hover:bg-gray-50",children:[i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:p.mieter}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:p.datum}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:i("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${p.status==="bezahlt"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.status})}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:[p.verbrauch," kWh"]}),i("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:[p.gesamtbetrag," €"]})]},u))})]})})]})}function on(){const[t,n]=z("zaehlerstand"),[e,s]=z(!1),[c,l]=z(!1);return i("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[i("nav",{className:"bg-white shadow-md",children:i("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:i("div",{className:"flex h-16 justify-between",children:[i("div",{className:"flex",children:i("div",{className:"flex flex-shrink-0 items-center",children:[i("div",{className:"h-8 w-8 rounded bg-blue-600"}),i("span",{className:"ml-2 font-sans text-2xl font-bold tracking-tight text-gray-900 antialiased",children:"Stromabrechnung"})]})}),i("div",{className:"flex items-center space-x-4",children:[i("button",{onClick:()=>l(!0),className:"inline-flex items-center rounded-md bg-blue-50 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[i("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Mieter anlegen"]}),i("div",{className:"relative ml-3",children:[i("button",{onClick:()=>s(!e),className:"flex items-center rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[i("span",{className:"sr-only",children:"Benutzermenü öffnen"}),i("div",{className:"h-8 w-8 rounded-full bg-gray-300",children:i("svg",{className:"h-8 w-8 text-gray-500",fill:"currentColor",viewBox:"0 0 24 24",children:i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),e&&i("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5",children:[i("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profil"}),i("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Einstellungen"}),i("a",{href:"#",className:"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Abmelden"})]})]})]})]})})}),i("main",{className:"p-4 sm:p-6 md:p-8",children:i("div",{className:"container mx-auto max-w-7xl",children:[i("div",{className:"mb-6 flex space-x-1 rounded-xl bg-gray-100 p-1",children:[i("button",{onClick:()=>n("zaehlerstand"),className:`flex-1 rounded-lg px-4 py-2 text-sm font-medium transition-colors ${t==="zaehlerstand"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:"Zählerstand erfassen"}),i("button",{onClick:()=>n("historie"),className:`flex-1 rounded-lg px-4 py-2 text-sm font-medium transition-colors ${t==="historie"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:"Abrechnungshistorie"}),i("button",{onClick:()=>n("analyse"),className:`flex-1 rounded-lg px-4 py-2 text-sm font-medium transition-colors ${t==="analyse"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:"Verbrauchsanalyse"})]}),t==="zaehlerstand"&&i(qn,{}),t==="historie"&&i(Qn,{}),t==="analyse"&&i(er,{})]})}),i(Gn,{isOpen:c,onClose:()=>l(!1)})]})}Gt(i(on,{}),document.getElementById("app"));Gt(i(on,{}),document.getElementById("app"));
